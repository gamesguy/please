<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 1 - Orpah's Story</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      margin: 0;
      padding: 0;
    }
    .content {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background-color: white;
      border-left: 5px solid #2ecc71;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    h1 {
      text-align: center;
      color: #2ecc71;
    }
    .back-link {
      display: block;
      text-align: center;
      margin-top: 20px;
      font-size: 1.2em;
      text-decoration: none;
      color: #3498db;
    }
    .back-link:hover {
      color: #1abc9c;
    }
  </style>
</head>
<body>
  <div class="content">
    <h1>Chapter 1</h1>
 <p> “Orpie, Orpie!” the nickname my best friend calls me rung in my ears as the beautiful morning light of Zariel, the god who brings the sun and watches over the day, slowly filters through my window.
</p>
      <p>  Ohhh, how I can’t wait to leave this house.
    </p>
      <p> “Orpie, Orpie!” My best friend Ruth said again  pulling me back to reality.</p>
       
<p>       “Oh, hi Ruth. I got lost in my thoughts,” I said, coming back to reality.</p>
<p>       
    “But today is our day. Try not to ruin it,” Ruth said in a playful tone.</p>
       
   <p>    Her words hit me in the wrong place. “What do you mean by that?” I snapped.</p>
       
  <p>     Ruth’s eyes widened, and she quickly apologized. “Oh, I’m sorry! I didn’t mean anything by it.”</p>
       
    <p>   Noticing my sadness over how I had snapped at her, Ruth’s caring nature shone through. “Don’t be down; it was my fault for being insensitive.”
    </p>
<p>       Realizing how I’d sounded, I softened my tone. “No, I’m sorry. I didn’t mean to snap. I guess I’m just a bit on edge.”</p>
       
     <p>  “No worries,” Ruth said with a reassuring smile. “Let’s focus on making today great.”
    </p>
      <p> I almost ruined our perfect day—a double marriage between me and Mahlon and Ruth and Chilion—just like she said, maybe she was right.
    </p>
      <p> “Don’t be down; Let’s make today enjoyable,for both of us.”  Ruth said, her smile radiated light almost as bright as Sun. Her husband was really lucky to have her.
    </p>
     <p>  “Sure, you lead the way” I said, as we both smiled at each other and got ready. Our husbands were downstairs waiting for us.
       
       
     </p>
    <a href="index.html" class="back-link">Back to Chapters</a>

    <h1>Leave a Comment</h1>
<form id="commentForm">
    <input type="text" id="name" placeholder="Name" required />
    <textarea id="content" placeholder="Write your comment here..." required></textarea>
    <button type="submit">Submit</button>
</form>

<h2>Comments</h2>
<div id="comments"></div>


  </div>
  <script>
    const chapter = 'chapter1'; // Change this to the chapter identifier for each page
    // Fetch existing comments for the specific chapter
async function fetchComments() {
    const res = await fetch(`/comments/${chapter}`);
    const comments = await res.json();
    const commentsDiv = document.getElementById('comments');
    commentsDiv.innerHTML = comments.map(c => `<p><strong>${c.name}:</strong> ${c.content}</p>`).join('');
}

document.getElementById('commentForm').onsubmit = async (e) => {
    e.preventDefault();

    // Get the name from an input field instead of prompting
    const name = document.getElementById('name').value; // Assume there's an input field for name
    const content = document.getElementById('content').value;

    if (name && content) { // Check both name and content are provided
        await fetch(`/comments/${chapter}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ name, content })
        });

        document.getElementById('commentForm').reset();
        fetchComments(); // Refresh comments after submission
    }
};

// Fetch comments when the page loads
fetchComments();
    </script>
    
<style>form {
    margin: 20px 0;
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

input[type="text"],
textarea {
    width: calc(100% - 22px);
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ccc;
    border-radius: 4px;
}

button {
    background-color: #3498db;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

button:hover {
    background-color: #1abc9c;
}

h2 {
    margin-top: 30px;
}
</style>
</body>
</html>
